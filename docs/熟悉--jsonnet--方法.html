<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>方法</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>方法</h1><br/><h3>方法</h3><br />可以像python一样定义一些方法<br /><br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test_a.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">local</span>&nbsp;my_function<span style="color:#ff9d00;font-weight:700">(</span>x,&nbsp;y=10<span style="color:#ff9d00;font-weight:700">)</span>&nbsp;=&nbsp;x&nbsp;+&nbsp;y<span style="color:#ff9d00;font-weight:700">;</span><br /><span style="color:#ff9d00;font-weight:700">{</span><br />call<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;my_function<span style="color:#ff9d00;font-weight:700">(</span>2<span style="color:#ff9d00;font-weight:700">)</span>,<br /><span style="color:#ff9d00;font-weight:700">}</span><br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test_a.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;call&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;12<br /><span style="color:#ff9d00;font-weight:700">}</span></div></div><br /><br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test_a.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">local</span>&nbsp;multiline_function<span style="color:#ff9d00;font-weight:700">(</span>x<span style="color:#ff9d00;font-weight:700">)</span>&nbsp;=<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">local</span>&nbsp;temp&nbsp;=&nbsp;x&nbsp;*&nbsp;2<span style="color:#ff9d00;font-weight:700">;</span><br />&nbsp;&nbsp;<br />&nbsp;&nbsp;[temp,&nbsp;temp&nbsp;+&nbsp;1]<span style="color:#ff9d00;font-weight:700">;</span><br /><br /><span style="color:#ff9d00;font-weight:700">{</span>&nbsp;call_multiline_function<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;multiline_function<span style="color:#ff9d00;font-weight:700">(</span>4<span style="color:#ff9d00;font-weight:700">)</span>,<span style="color:#ff9d00;font-weight:700">}</span><br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test_a.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;call_multiline_function&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9<br />&nbsp;&nbsp;&nbsp;]<br /><span style="color:#ff9d00;font-weight:700">}</span></div></div><br /><br /><br /><br />定义一个对象，在对象中定义方法，并调用<br /><br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test_a.jsonnet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><span style="color:#ff9d00;font-weight:700">local</span>&nbsp;object&nbsp;=&nbsp;<span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;A&nbsp;method<br />&nbsp;&nbsp;my_method<span style="color:#ff9d00;font-weight:700">(</span>x<span style="color:#ff9d00;font-weight:700">):</span>&nbsp;x&nbsp;*&nbsp;x,<br /><span style="color:#ff9d00;font-weight:700">};</span><br /><span style="color:#ff9d00;font-weight:700">{</span>call_method1<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;object.my_method<span style="color:#ff9d00;font-weight:700">(</span>3<span style="color:#ff9d00;font-weight:700">)</span>,<span style="color:#ff9d00;font-weight:700">}</span><br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test_a.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;call_method1&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;9<br /><span style="color:#ff9d00;font-weight:700">}</span></div></div><br /><br /></div>
</body>
</html>
