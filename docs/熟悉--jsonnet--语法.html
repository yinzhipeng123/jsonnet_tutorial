<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>语法</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>语法</h1><br/><h3>注释：</h3><br />三种注释<br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;cat&nbsp;test.jsonnet&nbsp;<br />/*&nbsp;注释1&nbsp;*/<br />#&nbsp;&nbsp;注释2<br />//&nbsp;注释3<br />{<br />served:&nbsp;&#39;Tall&#39;,<br />agent:&quot;Tom&quot;,<br />}<br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test.jsonnet&nbsp;<br />{<br />&nbsp;&nbsp;&nbsp;&quot;agent&quot;:&nbsp;&quot;Tom&quot;,<br />&nbsp;&nbsp;&nbsp;&quot;served&quot;:&nbsp;&quot;Tall&quot;<br />}</div></div><br /><br /><br /><br /><h3>字符串：</h3><br />单行字符串用双引号 <h3>&quot;</h3> 或者单引号 <h3>&#39;</h3> 引起来。<br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />served<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&#39;Tall&#39;</span>,<br />agent<span style="color:#ff9d00;font-weight:700">:</span><span style="color:#3ad900;font-weight:400">&quot;Tom&quot;</span>,<br /><span style="color:#ff9d00;font-weight:700">}</span><br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;agent&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Tom&quot;</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;served&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Tall&quot;</span><br /><span style="color:#ff9d00;font-weight:700">}</span></div></div><br />如果字符串中出现单引号，单引号前加\进行转义。例如&quot;Farmer&#39;s Gin&quot; --&gt; &#39;Farmer\&#39;s Gin&#39;<br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />served<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&#39;Farmer\&#39;</span>s&nbsp;Gin<span style="color:#3ad900;font-weight:400">&#39;<br />}<br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test.jsonnet&nbsp;<br />{</span><br /><span style="color:#3ad900;font-weight:400">&nbsp;&nbsp;&nbsp;&quot;served&quot;:&nbsp;&quot;Farmer&#39;</span>s&nbsp;Gin<span style="color:#3ad900;font-weight:400">&quot;<br />}</span></div></div><br />允许跨多行字符串可以用 ||| 进行标记，例如<br /><br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />description<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">|||</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;Tom&nbsp;Collins&nbsp;is&nbsp;essentially&nbsp;gin&nbsp;and<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lemonade.&nbsp;&nbsp;The&nbsp;bitters&nbsp;add&nbsp;complexity.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">|||</span>,<span style="color:#ff9d00;font-weight:700">}</span><br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;description&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;The&nbsp;Tom&nbsp;Collins&nbsp;is&nbsp;essentially&nbsp;gin&nbsp;and\nlemonade.&nbsp;&nbsp;The&nbsp;bitters&nbsp;add&nbsp;complexity.\n&quot;</span><br /><span style="color:#ff9d00;font-weight:700">}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></div><br />      <br /><h3>对象和数组可以尾随，</h3><br /><br />正常的一个json例子<br /><br />{<br />   &quot;Fruits&quot;: [<br />      &quot;apple&quot;,<br />      &quot;Banana&quot;<br />   ]<br />}<br />如果加几个逗号，那么该json为错误了<a href=""><img src="images/797-1.png" alt="images/797-1.png" /></a><br /><br />对象或者数组末尾的一个不能有逗号，但是jsonnet却可以正确的识别<br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Fruits&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;[<span style="color:#3ad900;font-weight:400">&quot;apple&quot;</span>,&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Banana&quot;</span>,],<br /><span style="color:#ff9d00;font-weight:700">}</span><br /><br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Fruits&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;apple&quot;</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Banana&quot;</span><br />&nbsp;&nbsp;&nbsp;]<br /><span style="color:#ff9d00;font-weight:700">}</span></div></div><br /><br /><h3>KEY值可以不用加引号&quot;</h3><br /><br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fruits<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;[<span style="color:#3ad900;font-weight:400">&quot;apple&quot;</span>,&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Banana&quot;</span>,],<br /><span style="color:#ff9d00;font-weight:700">}</span><br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Fruits&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;apple&quot;</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;Banana&quot;</span><br />&nbsp;&nbsp;&nbsp;]<br /><span style="color:#ff9d00;font-weight:700">}</span></div></div><br /><br /><br /></div>
</body>
</html>
