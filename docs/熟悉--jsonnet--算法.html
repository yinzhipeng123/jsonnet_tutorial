<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>算法</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>算法</h1><br/>算数<br /><br />支持四则运算<br />字符串可以与 连接+<br />一些对象也可以用+来拼接<br />两个字符串可以与&lt;进行比较。<br />==可以判断两个是否相等，返回布尔值<br />in 用来判断字符是否在对象中<br />| 按位运算是转换成int然后在运算<br />%号支持像python或者C那样引用，可以和|||结合<br /><br /><br /><div class="codebox"><div class="codebox">[root@centos7&nbsp;jsonnet_learn]#&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;test_a.jsonnet&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;concat_array<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;[1,&nbsp;2,&nbsp;3]&nbsp;+&nbsp;[4],<br />&nbsp;&nbsp;concat_string<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&#39;123&#39;</span>&nbsp;+&nbsp;4,<br />&nbsp;&nbsp;equality1<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;1&nbsp;==&nbsp;<span style="color:#3ad900;font-weight:400">&#39;1&#39;</span>,<br />&nbsp;&nbsp;equality2<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;[<span style="color:#ff9d00;font-weight:700">{}</span>,&nbsp;<span style="color:#ff9d00;font-weight:700">{</span>&nbsp;x<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;3&nbsp;-&nbsp;1&nbsp;<span style="color:#ff9d00;font-weight:700">}</span>]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;[<span style="color:#ff9d00;font-weight:700">{}</span>,&nbsp;<span style="color:#ff9d00;font-weight:700">{</span>&nbsp;x<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;2&nbsp;<span style="color:#ff9d00;font-weight:700">}</span>],<br />&nbsp;&nbsp;ex1<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;1&nbsp;+&nbsp;2&nbsp;*&nbsp;3&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>&nbsp;<span style="color:#ff9d00;font-weight:700">(</span>4&nbsp;+&nbsp;5<span style="color:#ff9d00;font-weight:700">)</span>,<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;Bitwise&nbsp;operations&nbsp;first&nbsp;cast&nbsp;to&nbsp;int.<br />&nbsp;&nbsp;ex2<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;self.ex1&nbsp;<span style="color:#ff9d00;font-weight:700">|</span>&nbsp;3,<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;Modulo&nbsp;operator.<br />&nbsp;&nbsp;ex3<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;self.ex1&nbsp;%&nbsp;2,<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;Boolean&nbsp;logic<br />&nbsp;&nbsp;ex4<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">(</span>4&nbsp;&gt;&nbsp;3<span style="color:#ff9d00;font-weight:700">)</span>&nbsp;<span style="color:#ff9d00;font-weight:700">&amp;&amp;</span>&nbsp;<span style="color:#ff9d00;font-weight:700">(</span>1&nbsp;&lt;=&nbsp;3<span style="color:#ff9d00;font-weight:700">)</span>&nbsp;<span style="color:#ff9d00;font-weight:700">||</span>&nbsp;<span style="color:#ff9d00;font-weight:700">false</span>,<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;Mixing&nbsp;objects&nbsp;together<br />&nbsp;&nbsp;obj<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">{</span>&nbsp;a<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;1,&nbsp;b<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;2&nbsp;<span style="color:#ff9d00;font-weight:700">}</span>&nbsp;+&nbsp;<span style="color:#ff9d00;font-weight:700">{</span>&nbsp;b<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;3,&nbsp;c<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;4&nbsp;<span style="color:#ff9d00;font-weight:700">}</span>,<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;Test&nbsp;<span style="color:#ff9d00;font-weight:700">if</span>&nbsp;a&nbsp;field&nbsp;is&nbsp;<span style="color:#ff9d00;font-weight:700">in</span>&nbsp;an&nbsp;object<br />&nbsp;&nbsp;obj_member<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&#39;foo&#39;</span>&nbsp;<span style="color:#ff9d00;font-weight:700">in</span>&nbsp;<span style="color:#ff9d00;font-weight:700">{</span>&nbsp;foo<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;1&nbsp;<span style="color:#ff9d00;font-weight:700">}</span>,<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;String&nbsp;formatting<br />&nbsp;&nbsp;str1<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&#39;The&nbsp;value&nbsp;of&nbsp;self.ex2&nbsp;is&nbsp;&#39;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;self.ex2&nbsp;+&nbsp;<span style="color:#3ad900;font-weight:400">&#39;.&#39;</span>,<br />&nbsp;&nbsp;str2<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&#39;The&nbsp;value&nbsp;of&nbsp;self.ex2&nbsp;is&nbsp;%g.&#39;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;self.ex2,<br />&nbsp;&nbsp;str3<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&#39;ex1=%0.2f,&nbsp;ex2=%0.2f&#39;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;[self.ex1,&nbsp;self.ex2],<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;By&nbsp;passing&nbsp;self,&nbsp;we&nbsp;allow&nbsp;ex1&nbsp;and&nbsp;ex2&nbsp;to<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;be&nbsp;extracted&nbsp;internally.<br />&nbsp;&nbsp;str4<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&#39;ex1=%(ex1)0.2f,&nbsp;ex2=%(ex2)0.2f&#39;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;self,<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">//</span>&nbsp;Do&nbsp;textual&nbsp;templating&nbsp;of&nbsp;entire&nbsp;files<span style="color:#ff9d00;font-weight:700">:</span><br />&nbsp;&nbsp;str5<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">|||</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#7f0044;font-weight:400">ex1</span>=%<span style="color:#ff9d00;font-weight:700">(</span>ex1<span style="color:#ff9d00;font-weight:700">)</span>0.2f<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#7f0044;font-weight:400">ex2</span>=%<span style="color:#ff9d00;font-weight:700">(</span>ex2<span style="color:#ff9d00;font-weight:700">)</span>0.2f<br />&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">|||</span>&nbsp;%&nbsp;self,<br /><span style="color:#ff9d00;font-weight:700">}</span><br />[root@centos7&nbsp;jsonnet_learn]#&nbsp;jsonnet&nbsp;test_a.jsonnet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;concat_array&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4<br />&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;concat_string&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;1234&quot;</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;equality1&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">false</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;equality2&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">true</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;ex1&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;1.6666666666666665,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;ex2&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;3,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;ex3&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;1.6666666666666665,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;ex4&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">true</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;obj&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;a&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;b&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;3,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;c&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;4<br />&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">}</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;obj_member&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#ff9d00;font-weight:700">true</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;str1&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;The&nbsp;value&nbsp;of&nbsp;self.ex2&nbsp;is&nbsp;3.&quot;</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;str2&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;The&nbsp;value&nbsp;of&nbsp;self.ex2&nbsp;is&nbsp;3.&quot;</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;str3&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;ex1=1.67,&nbsp;ex2=3.00&quot;</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;str4&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;ex1=1.67,&nbsp;ex2=3.00&quot;</span>,<br />&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">&quot;str5&quot;</span><span style="color:#ff9d00;font-weight:700">:</span>&nbsp;<span style="color:#3ad900;font-weight:400">&quot;ex1=1.67\nex2=3.00\n&quot;</span><br /><span style="color:#ff9d00;font-weight:700">}</span></div></div></div>
</body>
</html>
